

<div class="panel panel-primary">
    <div class="panel-heading">
        {{pageTitle}}
    </div>
  
    <div class="panel-body">
        <form class="form-horizontal" 
              novalidate
              (ngSubmit)="saveProduct()"
              [formGroup]="pForm"
              >
            <fieldset>
                <div class="form-group" 
                     [ngClass]="{'has-error': (pForm.get('productName').touched ||
                                             pForm.get('productName').dirty) && 
                                              !pForm.get('productName').valid}"
                     >
                    <label class="col-md-2 control-label" for="productNameId" >Product Name</label>
  
                    <div class="col-md-8">
                        <input class="form-control" 
                          type="text"
                          id="productNameId"
                          placeholder="Name(required)"
                          formControlName="productName"
                                />
                        <span class="help-block" *ngIf="(pForm.get('productName').touched ||
                                                         pForm.get('productName').dirty) &&
                                                         pForm.get('productName').errors">
                              <span style="color: red;" *ngIf="pForm.get('productName').errors.required">
                                Product name is required.
                              </span>
                              <span style="color: red;" *ngIf="pForm.get('productName').errors.minlength">
                                Product Name must be at least 2 characters.
                              </span>
                        </span>
                    </div>
                </div>
  
                <div class="form-group" 
                  [ngClass]="{'has-error': (pForm.get('productCode').touched || 
                                            pForm.get('productCode').dirty) && 
                                            !pForm.get('productCode').valid}">
                    <label class="col-md-2 control-label" for="productCodeId">Product Code</label>
  
                    <div class="col-md-8">
                        <input class="form-control"
                        type="text"
                        id="productCodeId"
                        placeholder="Code(required)" 
                        formControlName="productCode"
                        />
                        <span class="help-block" *ngIf="(pForm.get('productCode').touched ||
                                                         pForm.get('productCode').dirty) &&
                                                         pForm.get('productCode').errors" >
                             <span style="color: red;"  *ngIf="pForm.get('productCode').errors.required">
                               Product code is required.
                             </span>
                            
                        </span>
                    </div>
                </div>
  
                <div>{{errorMessage}}</div>
  
                <div class="form-group">
                    <div class="col-md-4 col-md-offset-2">
                        <span>
                            <button class="btn btn-primary" type="submit" style="width:80px;margin-right:10px" 
                            (click)="saveProduct()">
                                Save
                            </button>
                        </span>
                        &nbsp;<span>
                            <a class="btn btn-secondary" style="width:80px" (click)="cancel()">
                                Cancel
                            </a>
                        </span>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span>
                            <a class="btn btn-secondary" style="width:80px" (click)="deleteProduct()">
                                Delete
                            </a>
                        </span>   
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
  </div>
  <div *ngIf='errorMessage' class='alert alert-danger'>
    Error: {{ errorMessage }}
  </div>


<!-- This is your Template driven form-->

<!-- <div class="panel panel-primary">
  <div class="panel-heading">
      {{pageTitle}}
  </div>

  <div class="panel-body">
      <form class="form-horizontal" 
            novalidate
            ngSubmit="saveProduct()"
            >
          <fieldset>
              <div class="form-group" 
                   [ngClass]="{'has-error': (productNameVar.touched ||
                                            productNameVar.dirty) && 
                                            !productNameVar.valid}"
                   >
                  <label class="col-md-2 control-label" for="productNameId" >Product Name</label>

                  <div class="col-md-8">
                      <input class="form-control" 
                        type="text"
                        id="productNameId"
                        placeholder="Name(required)"
                        required
                        minlength="2"
                        [(ngModel)]=product.productName
                        name="productName"
                        #productNameVar="ngModel"
                              />
                      <span class="help-block" *ngIf="(productNameVar.touched ||
                                                       productNameVar.dirty) &&
                                                       productNameVar.errors">
                            <span style="color: red;" *ngIf="productNameVar.errors.required">
                              Product name is required.
                            </span>
                            <span style="color: red;" *ngIf="productNameVar.errors.minlength">
                              Product Name must be at least 2 characters.
                            </span>
                      </span>
                  </div>
              </div>

              <div class="form-group" 
                [ngClass]="{'has-error': (productCodeVar.touched || 
                                          productCodeVar.dirty) && 
                                          !productCodeVar.valid}">
                  <label class="col-md-2 control-label" for="productCodeId">Product Code</label>

                  <div class="col-md-8">
                      <input 
                      type="text"
                      id="productCodeId"
                      placeholder="Code(required)" 
                      required
                      [(ngModel)]=product.productCode
                      name="productCode"
                      #productCodeVar="ngModel"/>
                      <span class="help-block" *ngIf="(productCodeVar.touched ||
                                                       productCodeVar.dirty) &&
                                                       productCodeVar.errors" >
                           <span style="color: red;"  *ngIf="productCodeVar.errors.required">
                             Product code is required.
                           </span>
                          
                      </span>
                  </div>
              </div>

              <div>{{errorMessage}}</div>

              <div class="form-group">
                  <div class="col-md-4 col-md-offset-2">
                      <span>
                          <button class="btn btn-primary" type="submit" style="width:80px;margin-right:10px" 
                          (click)="saveProduct()">
                              Save
                          </button>
                      </span>
                      &nbsp;<span>
                          <a class="btn btn-secondary" style="width:80px" (click)="cancel()">
                              Cancel
                          </a>
                      </span>
                      &nbsp;&nbsp;&nbsp;&nbsp;<span>
                          <a class="btn btn-secondary" style="width:80px" (click)="deleteProduct()">
                              Delete
                          </a>
                      </span>   
                  </div>
              </div>
          </fieldset>
      </form>
  </div>
</div>
<div *ngIf='errorMessage' class='alert alert-danger'>
  Error: {{ errorMessage }}
</div> -->